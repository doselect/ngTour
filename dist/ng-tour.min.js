"use strict";var scrollIntoViewWithOffset=function(t,e){t.scrollIntoView(!0);var n=window.scrollY;n&&window.scroll(0,n-e)};angular.module("ngTour",[]).factory("ngTour",["$rootScope",function(t){t.ngTour={nextButtonText:"Next"};var e=function(){t.ngTour.backdrop.remove(),t.ngTour={nextButtonText:"Next"},window.scroll(0,0)},n=function(e){e=angular.element(e),t.ngTour.backdrop=angular.element('<div id="ngTour"><div class="ngTour-overlay"><div class="ngTour-cover"><div class="ngTour-side"></div><div class="ngTour-side"></div><div class="ngTour-side"></div><div class="ngTour-side"></div></div></div><div class="ngTour-content"><div class="ngTour-content-inner"><p></p><button>Next</button></div></div></div>'),e.prepend(t.ngTour.backdrop),t.ngTour.struct={overlay:document.querySelector(".ngTour-overlay"),content:document.querySelector(".ngTour-content"),helper:document.querySelector(".ngTour-content > .ngTour-content-inner > p"),nextButton:document.querySelector(".ngTour-content > .ngTour-content-inner > button"),cover:document.querySelector(".ngTour-cover")}},o=function(e){var n=t.ngTour.milestones[e];scrollIntoViewWithOffset(n,72),t.ngTour.currentMilestoneIdx=e,t.ngTour.currentMilestoneIdx===t.ngTour.milestones.length-1&&(t.ngTour.struct.nextButton.innerText="Finish");var o=n.getAttribute("data-tour-helper"),r=n.offsetHeight/2,u=n.offsetWidth/2,i=i=Math.sqrt(Math.pow(r,2)+Math.pow(u,2)-2*r*u*Math.cos(.5*Math.PI)),l={top:n.offsetTop-window.scrollY+r+"px",left:n.offsetLeft-window.scrollX+u+"px",size:2*i},s=t.ngTour.struct;s.overlay.style.width=0,s.overlay.style.height=0,s.overlay.style.boxShadow="0 0 0 "+100*Math.sqrt(2)+"vmax rgba(16, 17, 48, 0.9)",s.helper.innerText="",s.nextButton.style.visibility="hidden",setTimeout(function(){s.helper.innerText=o,s.nextButton.style.visibility="visible",s.cover.style.height=2*r+"px",s.cover.style.width=2*u+"px",s.overlay.style.top=l.top,s.overlay.style.left=l.left,s.overlay.style.width=l.size+"px",s.overlay.style.height=l.size+"px"},500),parseInt(l.left,10)>window.innerWidth/2?s.content.style.left="0%":s.content.style.left="50%"},r=function(){t.ngTour.currentMilestoneIdx===t.ngTour.milestones.length-1?e():o(t.ngTour.currentMilestoneIdx+1)};return{start:function(e){var u=e.parent||document.body,i=(n(u),document.querySelectorAll("[data-tour]"));if(0!==i.length){var l=[],s={};angular.forEach(i,function(t){var e=t.getAttribute("data-tour");l.push(e),s[e]=t}),l.sort(function(t,e){return t-e}),t.ngTour.milestones=l.map(function(t,e){return s[t]}),setTimeout(function(){o(0),t.ngTour.struct.nextButton.addEventListener("click",r)})}}}}]);